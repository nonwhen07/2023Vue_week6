import{_ as h,h as n,c as m,a as i,b as t,w as a,d as e,F as f,r as c,o as g}from"./index-BF57zz8q.js";import{e as r,T as k}from"./ToastMessages-qREQSHiW.js";import"./component-functions-DoEuF0vs.js";var V={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"jeff_hexschool",BASE_URL:"/2023Vue_week6",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:l}=V,T={data(){return{isNew:!1,tempProduct:{},selectID:"",products:[],pages:{}}},methods:{checkSignIn(){const o=`${l}/api/user/check`;n.post(o).then(u=>{u.data.success&&r.emit("push-message",{style:"success",title:"登入成功"})}).catch(()=>{r.emit("push-message",{style:"danger",title:"登入資料有誤，請確認帳號密碼，將轉回登入頁面"}),this.$router.push("/login")})},logout(){const o=`${l}/logout`;n.post(o).then(()=>{alert("登出成功"),this.$router.push("/login")})}},components:{ToastMessages:k},provide(){return{emitter:r}},created(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)shopToken\s*=\s*([^;]*).*$)|^.*$/,"$1");n.defaults.headers.common.Authorization=o,this.checkSignIn()}},$=i("h2",null,"這是後台",-1),v={class:"container-fluid mt-3 position-relative"};function R(o,u,x,w,E,d){const s=c("RouterLink"),p=c("ToastMessages"),_=c("RouterView");return g(),m(f,null,[$,i("nav",null,[t(s,{to:"/"},{default:a(()=>[e("回到前台")]),_:1}),e(" | "),t(s,{to:"/admin/products"},{default:a(()=>[e("產品列表")]),_:1}),e(" | "),t(s,{to:"/admin/orders"},{default:a(()=>[e("訂單列表")]),_:1}),e(" | "),t(s,{to:"/admin/coupon"},{default:a(()=>[e("優惠卷列表")]),_:1}),e(" | "),t(s,{to:"",onClick:d.logout},{default:a(()=>[e("登出")]),_:1},8,["onClick"])]),i("div",v,[t(p),t(_)])],64)}const L=h(T,[["render",R]]);export{L as default};
