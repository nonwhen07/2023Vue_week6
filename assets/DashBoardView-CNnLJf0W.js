import{_ as f,a as i,c as k,b as e,d as t,w as n,e as x,i as g,F as y,r as l,o as u,f as a}from"./index-CkW3i1ZR.js";import{e as r,T as b}from"./ToastMessages-C9Al6iX2.js";import"./component-functions-Cn8GKEeV.js";var v={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"jeff_hexschool",BASE_URL:"/2023Vue_week6",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:p}=v,V={data(){return{isSignIn:!1,tempProduct:{},selectID:"",products:[],pages:{}}},methods:{checkSignIn(){const s=`${p}/api/user/check`;i.post(s).then(c=>{c.data.success&&r.emit("push-message",{style:"success",title:"登入成功"}),this.isSignIn=!0}).catch(()=>{this.$router.push("/login"),this.isSignIn=!1})},logout(){const s=`${p}/logout`;i.post(s).then(()=>{r.emit("push-message",{style:"success",title:"登出成功"});const c="";document.cookie=`shopToken=${c}; expires=${new Date}`}),this.isSignIn=!1,this.$router.push("/login")}},components:{ToastMessages:b},provide(){return{emitter:r}},created(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)shopToken\s*=\s*([^;]*).*$)|^.*$/,"$1");i.defaults.headers.common.Authorization=s,this.checkSignIn()}},I=e("h2",null,"這是後台",-1),T={class:"category list-unstyled d-flex justify-content-left"},$={class:"btn btn-outline-secondary p-0 ms-1"},S={class:"btn btn-outline-secondary p-0 ms-1"},R={class:"btn btn-outline-secondary p-0 ms-1"},w={class:"btn btn-outline-secondary p-0 ms-1"},E={class:"btn btn-outline-secondary p-0 ms-1"},B={class:"btn btn-outline-secondary p-0 ms-1"},D={class:"container-fluid mt-3 position-relative"};function C(s,c,L,M,d,_){const o=l("RouterLink"),m=l("ToastMessages"),h=l("RouterView");return u(),k(y,null,[I,e("ul",T,[e("li",$,[t(o,{class:"router-link-active px-3 px-md-4 py-1",to:"/"},{default:n(()=>[a("回到前台")]),_:1})]),e("li",S,[t(o,{class:"router-link-active px-3 px-md-4 py-1",to:"/about"},{default:n(()=>[a("關於我們")]),_:1})]),e("li",R,[t(o,{class:"router-link-active px-3 px-md-4 py-1",to:"/admin/products"},{default:n(()=>[a("產品列表")]),_:1})]),e("li",w,[t(o,{class:"router-link-active px-3 px-md-4 py-1",to:"/admin/orders"},{default:n(()=>[a("訂單列表")]),_:1})]),e("li",E,[t(o,{class:"router-link-active px-3 px-md-4 py-1",to:"/admin/coupon"},{default:n(()=>[a("優惠卷列表")]),_:1})]),e("li",B,[t(o,{class:"router-link-active px-3 px-md-4 py-1",to:"",onClick:_.logout},{default:n(()=>[a("登出")]),_:1},8,["onClick"])])]),e("div",D,[t(m),d.isSignIn?(u(),x(h,{key:0})):g("",!0)])],64)}const U=f(V,[["render",C]]);export{U as default};
