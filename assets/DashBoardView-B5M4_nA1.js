import{_ as f,a as c,c as g,b as u,d as s,w as n,e,f as k,i as V,F as I,r as i,o as l}from"./index-CKgh4Iv4.js";import{e as r,T}from"./ToastMessages-BRn-wkRv.js";import"./component-functions-JXA-nrxV.js";var $={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"jeff_hexschool",BASE_URL:"/2023Vue_week6",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:p}=$,S={data(){return{isSignIn:!1,tempProduct:{},selectID:"",products:[],pages:{}}},methods:{checkSignIn(){const t=`${p}/api/user/check`;c.post(t).then(a=>{a.data.success&&r.emit("push-message",{style:"success",title:"登入成功"}),this.isSignIn=!0}).catch(()=>{this.$router.push("/login"),this.isSignIn=!1})},logout(){const t=`${p}/logout`;c.post(t).then(()=>{r.emit("push-message",{style:"success",title:"登出成功"});const a="";document.cookie=`shopToken=${a}; expires=${new Date}`}),this.isSignIn=!1,this.$router.push("/login")}},components:{ToastMessages:T},provide(){return{emitter:r}},created(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)shopToken\s*=\s*([^;]*).*$)|^.*$/,"$1");c.defaults.headers.common.Authorization=t,this.checkSignIn()}},v=u("h2",null,"這是後台",-1),x={class:"container-fluid mt-3 position-relative"};function R(t,a,w,E,d,_){const o=i("RouterLink"),m=i("ToastMessages"),h=i("RouterView");return l(),g(I,null,[v,u("nav",null,[s(o,{to:"/"},{default:n(()=>[e("回到前台")]),_:1}),e(" | "),s(o,{to:"/admin/products"},{default:n(()=>[e("產品列表")]),_:1}),e(" | "),s(o,{to:"/admin/orders"},{default:n(()=>[e("訂單列表")]),_:1}),e(" | "),s(o,{to:"/admin/coupon"},{default:n(()=>[e("優惠卷列表")]),_:1}),e(" | "),s(o,{to:"",onClick:_.logout},{default:n(()=>[e("登出")]),_:1},8,["onClick"])]),u("div",x,[s(m),d.isSignIn?(l(),k(h,{key:0})):V("",!0)])],64)}const L=f(S,[["render",R]]);export{L as default};
